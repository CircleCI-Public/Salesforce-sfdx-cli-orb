# Creates a scratch Salesforce Org.
description: >
  "Create a scratch Salesforce Org."
parameters:
  scratch-config:
    description: "The scratch JSON definition."
    type: string
  scratch-alias:
    description: "The alias of the scratch Org."
    type: string
  overrides:
    description: "Overrides for scratch organization."
    type: string
    default: ""

steps:
  - run:
      name: Create << parameters.scratch-alias >> Salesforce scratch org
      command: |
        sf org create scratch -f << parameters.scratch-config >> -a << parameters.scratch-alias >> <<# parameters.overrides >> << parameters.overrides >> <</ parameters.overrides >>
        sf org list | grep << parameters.scratch-alias >>
